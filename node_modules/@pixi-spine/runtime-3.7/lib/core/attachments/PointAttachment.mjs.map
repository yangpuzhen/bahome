{"version":3,"file":"PointAttachment.mjs","sources":["../../../src/core/attachments/PointAttachment.ts"],"sourcesContent":["import { VertexAttachment } from './Attachment';\nimport { AttachmentType, Color, MathUtils, Vector2 } from '@pixi-spine/base';\nimport type { Bone } from '../Bone';\n\n/**\n * @public\n */\nexport class PointAttachment extends VertexAttachment {\n    type = AttachmentType.Point;\n    x: number;\n    y: number;\n    rotation: number;\n    color = new Color(0.38, 0.94, 0, 1);\n\n    constructor(name: string) {\n        super(name);\n    }\n\n    computeWorldPosition(bone: Bone, point: Vector2) {\n        const mat = bone.matrix;\n\n        point.x = this.x * mat.a + this.y * mat.c + bone.worldX;\n        point.y = this.x * mat.b + this.y * mat.d + bone.worldY;\n\n        return point;\n    }\n\n    computeWorldRotation(bone: Bone) {\n        const mat = bone.matrix;\n        const cos = MathUtils.cosDeg(this.rotation);\n        const sin = MathUtils.sinDeg(this.rotation);\n        const x = cos * mat.a + sin * mat.c;\n        const y = cos * mat.b + sin * mat.d;\n\n        return Math.atan2(y, x) * MathUtils.radDeg;\n    }\n}\n"],"names":[],"mappings":";;;AAOO,MAAM,wBAAwB,gBAAiB,CAAA;AAAA,EAOlD,YAAY,IAAc,EAAA;AACtB,IAAA,KAAA,CAAM,IAAI,CAAA,CAAA;AAPd,IAAA,IAAA,CAAA,IAAA,GAAO,cAAe,CAAA,KAAA,CAAA;AAItB,IAAA,IAAA,CAAA,KAAA,GAAQ,IAAI,KAAA,CAAM,IAAM,EAAA,IAAA,EAAM,GAAG,CAAC,CAAA,CAAA;AAAA,GAIlC;AAAA,EAEA,oBAAA,CAAqB,MAAY,KAAgB,EAAA;AAC7C,IAAA,MAAM,MAAM,IAAK,CAAA,MAAA,CAAA;AAEjB,IAAM,KAAA,CAAA,CAAA,GAAI,KAAK,CAAI,GAAA,GAAA,CAAI,IAAI,IAAK,CAAA,CAAA,GAAI,GAAI,CAAA,CAAA,GAAI,IAAK,CAAA,MAAA,CAAA;AACjD,IAAM,KAAA,CAAA,CAAA,GAAI,KAAK,CAAI,GAAA,GAAA,CAAI,IAAI,IAAK,CAAA,CAAA,GAAI,GAAI,CAAA,CAAA,GAAI,IAAK,CAAA,MAAA,CAAA;AAEjD,IAAO,OAAA,KAAA,CAAA;AAAA,GACX;AAAA,EAEA,qBAAqB,IAAY,EAAA;AAC7B,IAAA,MAAM,MAAM,IAAK,CAAA,MAAA,CAAA;AACjB,IAAA,MAAM,GAAM,GAAA,SAAA,CAAU,MAAO,CAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AAC1C,IAAA,MAAM,GAAM,GAAA,SAAA,CAAU,MAAO,CAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AAC1C,IAAA,MAAM,CAAI,GAAA,GAAA,GAAM,GAAI,CAAA,CAAA,GAAI,MAAM,GAAI,CAAA,CAAA,CAAA;AAClC,IAAA,MAAM,CAAI,GAAA,GAAA,GAAM,GAAI,CAAA,CAAA,GAAI,MAAM,GAAI,CAAA,CAAA,CAAA;AAElC,IAAA,OAAO,IAAK,CAAA,KAAA,CAAM,CAAG,EAAA,CAAC,IAAI,SAAU,CAAA,MAAA,CAAA;AAAA,GACxC;AACJ;;;;"}