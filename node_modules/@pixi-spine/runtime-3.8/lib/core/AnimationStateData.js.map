{"version":3,"file":"AnimationStateData.js","sources":["../../src/core/AnimationStateData.ts"],"sourcesContent":["import type { SkeletonData } from './SkeletonData';\nimport type { IAnimation, IAnimationStateData, Map } from '@pixi-spine/base';\nimport type { Animation } from './Animation';\n\n/**\n * @public\n */\nexport class AnimationStateData implements IAnimationStateData<SkeletonData, Animation> {\n    skeletonData: SkeletonData;\n    animationToMixTime: Map<number> = {};\n    defaultMix = 0;\n\n    constructor(skeletonData: SkeletonData) {\n        if (skeletonData == null) throw new Error('skeletonData cannot be null.');\n        this.skeletonData = skeletonData;\n    }\n\n    setMix(fromName: string, toName: string, duration: number) {\n        const from = this.skeletonData.findAnimation(fromName);\n\n        if (from == null) throw new Error(`Animation not found: ${fromName}`);\n        const to = this.skeletonData.findAnimation(toName);\n\n        if (to == null) throw new Error(`Animation not found: ${toName}`);\n        this.setMixWith(from, to, duration);\n    }\n\n    private static deprecatedWarning1 = false;\n\n    setMixByName(fromName: string, toName: string, duration: number) {\n        if (!AnimationStateData.deprecatedWarning1) {\n            AnimationStateData.deprecatedWarning1 = true;\n            console.warn('Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.');\n        }\n        this.setMix(fromName, toName, duration);\n    }\n\n    setMixWith(from: IAnimation, to: IAnimation, duration: number) {\n        if (from == null) throw new Error('from cannot be null.');\n        if (to == null) throw new Error('to cannot be null.');\n        const key = `${from.name}.${to.name}`;\n\n        this.animationToMixTime[key] = duration;\n    }\n\n    getMix(from: IAnimation, to: IAnimation) {\n        const key = `${from.name}.${to.name}`;\n        const value = this.animationToMixTime[key];\n\n        return value === undefined ? this.defaultMix : value;\n    }\n}\n"],"names":[],"mappings":";;AAOO,MAAM,sBAAN,MAAiF;AAAA,EAKpF,YAAY,YAA4B,EAAA;AAHxC,IAAA,IAAA,CAAA,kBAAA,GAAkC,EAAC,CAAA;AACnC,IAAa,IAAA,CAAA,UAAA,GAAA,CAAA,CAAA;AAGT,IAAA,IAAI,YAAgB,IAAA,IAAA;AAAM,MAAM,MAAA,IAAI,MAAM,8BAA8B,CAAA,CAAA;AACxE,IAAA,IAAA,CAAK,YAAe,GAAA,YAAA,CAAA;AAAA,GACxB;AAAA,EAEA,MAAA,CAAO,QAAkB,EAAA,MAAA,EAAgB,QAAkB,EAAA;AACvD,IAAA,MAAM,IAAO,GAAA,IAAA,CAAK,YAAa,CAAA,aAAA,CAAc,QAAQ,CAAA,CAAA;AAErD,IAAA,IAAI,IAAQ,IAAA,IAAA;AAAM,MAAM,MAAA,IAAI,KAAM,CAAA,CAAA,qBAAA,EAAwB,QAAU,CAAA,CAAA,CAAA,CAAA;AACpE,IAAA,MAAM,EAAK,GAAA,IAAA,CAAK,YAAa,CAAA,aAAA,CAAc,MAAM,CAAA,CAAA;AAEjD,IAAA,IAAI,EAAM,IAAA,IAAA;AAAM,MAAM,MAAA,IAAI,KAAM,CAAA,CAAA,qBAAA,EAAwB,MAAQ,CAAA,CAAA,CAAA,CAAA;AAChE,IAAK,IAAA,CAAA,UAAA,CAAW,IAAM,EAAA,EAAA,EAAI,QAAQ,CAAA,CAAA;AAAA,GACtC;AAAA,EAIA,YAAA,CAAa,QAAkB,EAAA,MAAA,EAAgB,QAAkB,EAAA;AAC7D,IAAI,IAAA,CAAC,oBAAmB,kBAAoB,EAAA;AACxC,MAAA,mBAAA,CAAmB,kBAAqB,GAAA,IAAA,CAAA;AACxC,MAAA,OAAA,CAAQ,KAAK,oGAAoG,CAAA,CAAA;AAAA,KACrH;AACA,IAAK,IAAA,CAAA,MAAA,CAAO,QAAU,EAAA,MAAA,EAAQ,QAAQ,CAAA,CAAA;AAAA,GAC1C;AAAA,EAEA,UAAA,CAAW,IAAkB,EAAA,EAAA,EAAgB,QAAkB,EAAA;AAC3D,IAAA,IAAI,IAAQ,IAAA,IAAA;AAAM,MAAM,MAAA,IAAI,MAAM,sBAAsB,CAAA,CAAA;AACxD,IAAA,IAAI,EAAM,IAAA,IAAA;AAAM,MAAM,MAAA,IAAI,MAAM,oBAAoB,CAAA,CAAA;AACpD,IAAA,MAAM,GAAM,GAAA,CAAA,EAAG,IAAK,CAAA,IAAA,CAAA,CAAA,EAAQ,EAAG,CAAA,IAAA,CAAA,CAAA,CAAA;AAE/B,IAAK,IAAA,CAAA,kBAAA,CAAmB,GAAG,CAAI,GAAA,QAAA,CAAA;AAAA,GACnC;AAAA,EAEA,MAAA,CAAO,MAAkB,EAAgB,EAAA;AACrC,IAAA,MAAM,GAAM,GAAA,CAAA,EAAG,IAAK,CAAA,IAAA,CAAA,CAAA,EAAQ,EAAG,CAAA,IAAA,CAAA,CAAA,CAAA;AAC/B,IAAM,MAAA,KAAA,GAAQ,IAAK,CAAA,kBAAA,CAAmB,GAAG,CAAA,CAAA;AAEzC,IAAO,OAAA,KAAA,KAAU,KAAY,CAAA,GAAA,IAAA,CAAK,UAAa,GAAA,KAAA,CAAA;AAAA,GACnD;AACJ,CAAA,CAAA;AA5CO,IAAM,kBAAN,GAAA,oBAAA;AAAM,kBAAA,CAoBM,kBAAqB,GAAA,KAAA;;;;"}